<link rel="import" href="wc-window.html">
<link rel="import" href="wc-film.html">
<link rel="import" href="wc-kiosk.html">
<link rel="import" href="wc-ticket.html">
<link rel="import" href="wc-cinema.html">
<dom-module id="wc-selector">
    <template>
        <button value="A" on-tap="onTap">Cambiar cartelera </button>
        <content></content>
    </template>
    <script>
    (function() {
        Polymer({
            is: 'wc-selector',
            properties: {

                selected: {
                    type: Number,
                    value: 0,
                    notify: true
                },

                child: {
                    type: String,
                },

            },

            ready: function() {
                this.kiosk = this.$.k;
                this.async(function() {
                    this.data = Polymer.dom(this).children[this.selected].films;
                    this.notifyPath('data', this.data);

                }, 200)
            },

            onTap: function(e) {
                console.log(Polymer.dom(this).children.length);
                this.selected = (this.selected + 1) % Polymer.dom(this).children.length;
                this.child = Polymer.dom(this).children[this.selected];
                this.data = this.child.films;
                console.log(this.data);
                // this.child =
                if (e.target.value === 'A') {
                    e.target.value = 'B';
                    this.data = this.child.films;
                    this.notifyPath('data', this.data);


                } else {
                    e.target.value = 'A';
                    this.data = this.child.films;
                    this.notifyPath('data', this.data);


                }
            }


        })

    })();
    </script>
